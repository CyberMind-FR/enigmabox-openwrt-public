; extensions.conf - the Asterisk dial plan

[incoming]
exten => _X.,1,Answer()
exten => _X.,n,Playback(ascending-2tone)
exten => _X.,n,Read(get,"silence/1",,,,1)
exten => _X.,n,GotoIf($[ 1${get} = 18 ]?confcall:dial)
exten => _X.,n(confcall),ConfBridge(8)
exten => _X.,n(dial),Dial(SIP/100,30)
exten => _X.,n,Hangup()

[friends]
{{#addresses}}
exten => {{phone}},1,Dial(SIP/100@{{hostname}})
{{/addresses}}

;global addresses
{{#global_addresses}}
exten => 01{{phone}},1,Dial(SIP/100@{{hostname}}.eb)
{{/global_addresses}}

;echo test
exten => 1,1,Answer()
;exten => 1,n,Playback(tt-somethingwrong)
exten => 1,n,Playback(tt-weasels)
exten => 1,n,Playback(tt-monkeysintro)
exten => 1,n,Playback(tt-monkeys)
exten => 1,n,Echo()
exten => 1,n,Playback(vm-goodbye)
exten => 1,n,Hangup()

;confcall
exten => 8,1,ConfBridge(8)

