// Autogenerated cjdns.conf

{
    "privateKey": "{{cjdns_private_key}}",
    "publicKey": "{{cjdns_public_key}}",
    "ipv6": "{{cjdns_ipv6}}",
    "authorizedPasswords":
    [
{{#if_peering_password}}
{"password": "{{peering_password}}"}
{{/if_peering_password}}
    ],

    "admin":
    {
        "bind": "127.0.0.1:11234",
        "password": "6v60ggy58qu0x0013vh64gzsu2lch0y"
    },

    // Interfaces to connect to the switch core.
    "interfaces":
    {
        "UDPInterface":
        [
            {
                "bind": "0.0.0.0:{{peering_port}}",
                "connectTo":
                {
{{#if_peerings}}
{{#peerings}}
                    "{{address}}":{"password":"{{password}}","publicKey":"{{public_key}}"},
{{/peerings}}
{{/if_peerings}}
                }
            }
        ]
        "ETHInterface":
        [
//TODO: only bind ah0 if wlan available
            {
                "bind": "ah0",
                "beacon": 2,
            },
{{#if_autopeering}}
            {
                "bind": "eth0",
                "beacon": 2,
            },
            {
                "bind": "eth1",
                "beacon": 2,
            },
            {
                "bind": "eth2",
                "beacon": 2,
            },
{{/if_autopeering}}
        ]
    },

    // Configuration for the router.
    "router":
    {
        "interface":
        {
            "type": "TUNInterface"
            //"tunDevice": "tun0"
        },
        "ipTunnel":
        {
            "allowedConnections":
            [
            ],
            "outgoingConnections":
            [
{{#if_internet_gateway}}
{{#internet_gateway}}
                "{{public_key}}",
{{/internet_gateway}}
{{/if_internet_gateway}}
            ]
        }
    },

    "resetAfterInactivitySeconds": 100,
    //"pidFile": "cjdroute.pid",
    "security":
    [
        "nofiles",
        {
            "setuser": "nobody",
            "exemptAngel": 1
        }
     ],
    "logging":
    {
        // "logTo":"stdout"
    }
}
